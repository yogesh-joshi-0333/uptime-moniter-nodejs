import{o as e,r as a,f as r,k as t,F as s,l,p as n,M as o,R as i,N as d,m as c,L as u,x as m,y as p,S as g,j as y,g as v,q as b}from"./vendor-CszhsB1H.js";import{u as k,a as f,b as x,d as h}from"./index-BWaFKzkF.js";const w={class:"space-y-6"},C={class:"flex flex-col lg:flex-row gap-6"},P={class:"lg:w-64 flex-shrink-0"},j={class:"card p-2"},M=["onClick"],D={key:0,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},V={key:1,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},S={key:2,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},T={key:3,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},U={key:4,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},N={class:"flex-1"},A={key:0,class:"card"},E={class:"card-body space-y-6"},z={class:"flex gap-4"},q={class:"pt-4 border-t border-gray-200 dark:border-gray-700"},B=["disabled"],R={key:1,class:"card"},O={class:"card-body space-y-6"},L={class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},F={class:"flex items-center justify-between"},I={class:"relative inline-flex items-center cursor-pointer"},W={class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},G={class:"flex items-center justify-between"},H={class:"relative inline-flex items-center cursor-pointer"},J={class:"space-y-3"},Z={class:"flex items-center gap-3 cursor-pointer"},_={class:"flex items-center gap-3 cursor-pointer"},Q={class:"pt-4 border-t border-gray-200 dark:border-gray-700 flex gap-3"},K=["disabled"],X={key:2,class:"card"},Y={class:"card-body space-y-6"},$={class:"pt-4 border-t border-gray-200 dark:border-gray-700"},ee=["disabled"],ae={key:3,class:"card"},re={class:"card-body space-y-6"},te={class:"pt-4 border-t border-gray-200 dark:border-gray-700"},se=["disabled"],le={key:4,class:"card border-danger-300 dark:border-danger-700"},ne={__name:"Settings",setup(ne){const oe=k(),ie=f(),de=x(),ce=a(!1),ue=a("general"),me=a({defaultInterval:60,maxConcurrentChecks:200,requestTimeout:5e3,retryAttempts:3}),pe=a({emailEnabled:!1,slackEnabled:!1,webhookEnabled:!1,emailAddress:"",slackWebhook:"",customWebhook:"",notifyOnDown:!0,notifyOnRecovery:!0,notifyAfterMinutes:5}),ge=a({name:"",email:""}),ye=a({currentPassword:"",newPassword:"",confirmPassword:""});async function ve(){ce.value=!0;try{await h.put("/settings/general",me.value),ie.success("General settings saved")}catch(e){ie.error("Failed to save settings")}ce.value=!1}async function be(){ce.value=!0;try{await h.put("/settings/notifications",pe.value),ie.success("Notification settings saved")}catch(e){ie.error("Failed to save settings")}ce.value=!1}async function ke(){ce.value=!0;const e=await oe.updateProfile(ge.value);ce.value=!1,e.success?ie.success("Profile updated"):ie.error(e.error)}async function fe(){if(ye.value.newPassword!==ye.value.confirmPassword)return void ie.error("Passwords do not match");if(ye.value.newPassword.length<6)return void ie.error("Password must be at least 6 characters");ce.value=!0;const e=await oe.changePassword({currentPassword:ye.value.currentPassword,newPassword:ye.value.newPassword});ce.value=!1,e.success?(ie.success("Password changed successfully"),ye.value={currentPassword:"",newPassword:"",confirmPassword:""}):ie.error(e.error)}async function xe(){try{await h.post("/admin/kill"),ie.success("All pending jobs cleared")}catch(e){ie.error("Failed to clear jobs")}}async function he(){ie.info("Test notification sent")}e(()=>{oe.user&&(ge.value.name=oe.user.name||"",ge.value.email=oe.user.email||"")});const we=[{id:"general",name:"General",icon:"settings"},{id:"notifications",name:"Notifications",icon:"bell"},{id:"profile",name:"Profile",icon:"user"},{id:"security",name:"Security",icon:"shield"},{id:"danger",name:"Danger Zone",icon:"alert"}];return(e,a)=>(v(),r("div",w,[a[51]||(a[51]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Settings"),t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Configure your monitoring preferences ")],-1)),t("div",C,[t("nav",P,[t("div",j,[(v(),r(s,null,l(we,e=>t("button",{key:e.id,onClick:a=>ue.value=e.id,class:c(["w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-left",ue.value===e.id?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50"])},["settings"===e.icon?(v(),r("svg",D,[...a[17]||(a[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])])):"bell"===e.icon?(v(),r("svg",V,[...a[18]||(a[18]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},null,-1)])])):"user"===e.icon?(v(),r("svg",S,[...a[19]||(a[19]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])])):"shield"===e.icon?(v(),r("svg",T,[...a[20]||(a[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},null,-1)])])):"alert"===e.icon?(v(),r("svg",U,[...a[21]||(a[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])):n("",!0),p(" "+b(e.name),1)],10,M)),64))])]),t("div",N,["general"===ue.value?(v(),r("div",A,[a[32]||(a[32]=t("div",{class:"card-header"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"General Settings")],-1)),t("div",E,[t("div",null,[a[23]||(a[23]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Default Check Interval ",-1)),o(t("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>me.value.defaultInterval=e),class:"select"},[...a[22]||(a[22]=[t("option",{value:30},"30 seconds",-1),t("option",{value:60},"1 minute",-1),t("option",{value:300},"5 minutes",-1),t("option",{value:600},"10 minutes",-1)])],512),[[i,me.value.defaultInterval]]),a[24]||(a[24]=t("p",{class:"mt-1 text-sm text-gray-500"},"Default interval for new websites",-1))]),t("div",null,[a[25]||(a[25]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Max Concurrent Checks ",-1)),o(t("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>me.value.maxConcurrentChecks=e),type:"number",class:"input",min:"1",max:"500"},null,512),[[d,me.value.maxConcurrentChecks,void 0,{number:!0}]]),a[26]||(a[26]=t("p",{class:"mt-1 text-sm text-gray-500"},"Maximum parallel health checks",-1))]),t("div",null,[a[27]||(a[27]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Request Timeout (ms) ",-1)),o(t("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>me.value.requestTimeout=e),type:"number",class:"input",min:"1000",max:"30000",step:"1000"},null,512),[[d,me.value.requestTimeout,void 0,{number:!0}]]),a[28]||(a[28]=t("p",{class:"mt-1 text-sm text-gray-500"},"Timeout for each health check request",-1))]),t("div",null,[a[31]||(a[31]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Theme ",-1)),t("div",z,[t("button",{onClick:[a[3]||(a[3]=e=>{m(de).isDark=!1,m(de).toggleTheme(),m(de).toggleTheme()}),a[4]||(a[4]=u(e=>m(de).isDark&&m(de).toggleTheme(),["prevent"]))],class:c(["flex items-center gap-2 px-4 py-2 rounded-lg border-2 transition-colors",m(de).isDark?"border-gray-200 dark:border-gray-700":"border-primary-500 bg-primary-50 dark:bg-primary-900/30"])},[...a[29]||(a[29]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})],-1),p(" Light ",-1)])],2),t("button",{class:c(["flex items-center gap-2 px-4 py-2 rounded-lg border-2 transition-colors",m(de).isDark?"border-primary-500 bg-primary-50 dark:bg-primary-900/30":"border-gray-200 dark:border-gray-700"]),onClick:a[5]||(a[5]=u(e=>!m(de).isDark&&m(de).toggleTheme(),["prevent"]))},[...a[30]||(a[30]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})],-1),p(" Dark ",-1)])],2)])]),t("div",q,[t("button",{onClick:ve,disabled:ce.value,class:"btn-primary"}," Save Changes ",8,B)])])])):n("",!0),"notifications"===ue.value?(v(),r("div",R,[a[40]||(a[40]=t("div",{class:"card-header"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Notification Settings")],-1)),t("div",O,[t("div",L,[t("div",F,[a[34]||(a[34]=t("div",null,[t("h3",{class:"font-medium text-gray-900 dark:text-white"},"Email Notifications"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Receive alerts via email")],-1)),t("label",I,[o(t("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=e=>pe.value.emailEnabled=e),class:"sr-only peer"},null,512),[[g,pe.value.emailEnabled]]),a[33]||(a[33]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),pe.value.emailEnabled?o((v(),r("input",{key:0,"onUpdate:modelValue":a[7]||(a[7]=e=>pe.value.emailAddress=e),type:"email",class:"input mt-3",placeholder:"alerts@example.com"},null,512)),[[d,pe.value.emailAddress]]):n("",!0)]),t("div",W,[t("div",G,[a[36]||(a[36]=t("div",null,[t("h3",{class:"font-medium text-gray-900 dark:text-white"},"Slack Notifications"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Send alerts to Slack channel")],-1)),t("label",H,[o(t("input",{type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=e=>pe.value.slackEnabled=e),class:"sr-only peer"},null,512),[[g,pe.value.slackEnabled]]),a[35]||(a[35]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),pe.value.slackEnabled?o((v(),r("input",{key:0,"onUpdate:modelValue":a[9]||(a[9]=e=>pe.value.slackWebhook=e),type:"url",class:"input mt-3",placeholder:"https://hooks.slack.com/services/..."},null,512)),[[d,pe.value.slackWebhook]]):n("",!0)]),t("div",null,[a[39]||(a[39]=t("h3",{class:"font-medium text-gray-900 dark:text-white mb-3"},"Notification Triggers",-1)),t("div",J,[t("label",Z,[o(t("input",{type:"checkbox","onUpdate:modelValue":a[10]||(a[10]=e=>pe.value.notifyOnDown=e),class:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"},null,512),[[g,pe.value.notifyOnDown]]),a[37]||(a[37]=t("span",{class:"text-gray-700 dark:text-gray-300"},"Notify when site goes down",-1))]),t("label",_,[o(t("input",{type:"checkbox","onUpdate:modelValue":a[11]||(a[11]=e=>pe.value.notifyOnRecovery=e),class:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"},null,512),[[g,pe.value.notifyOnRecovery]]),a[38]||(a[38]=t("span",{class:"text-gray-700 dark:text-gray-300"},"Notify when site recovers",-1))])])]),t("div",Q,[t("button",{onClick:be,disabled:ce.value,class:"btn-primary"}," Save Changes ",8,K),t("button",{onClick:he,class:"btn-secondary"}," Send Test Notification ")])])])):n("",!0),"profile"===ue.value?(v(),r("div",X,[a[43]||(a[43]=t("div",{class:"card-header"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Profile Settings")],-1)),t("div",Y,[t("div",null,[a[41]||(a[41]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Name ",-1)),o(t("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>ge.value.name=e),type:"text",class:"input"},null,512),[[d,ge.value.name]])]),t("div",null,[a[42]||(a[42]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Email ",-1)),o(t("input",{"onUpdate:modelValue":a[13]||(a[13]=e=>ge.value.email=e),type:"email",class:"input"},null,512),[[d,ge.value.email]])]),t("div",$,[t("button",{onClick:ke,disabled:ce.value,class:"btn-primary"}," Update Profile ",8,ee)])])])):n("",!0),"security"===ue.value?(v(),r("div",ae,[a[47]||(a[47]=t("div",{class:"card-header"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Security Settings")],-1)),t("div",re,[t("div",null,[a[44]||(a[44]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Current Password ",-1)),o(t("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>ye.value.currentPassword=e),type:"password",class:"input"},null,512),[[d,ye.value.currentPassword]])]),t("div",null,[a[45]||(a[45]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," New Password ",-1)),o(t("input",{"onUpdate:modelValue":a[15]||(a[15]=e=>ye.value.newPassword=e),type:"password",class:"input"},null,512),[[d,ye.value.newPassword]])]),t("div",null,[a[46]||(a[46]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Confirm New Password ",-1)),o(t("input",{"onUpdate:modelValue":a[16]||(a[16]=e=>ye.value.confirmPassword=e),type:"password",class:"input"},null,512),[[d,ye.value.confirmPassword]])]),t("div",te,[t("button",{onClick:fe,disabled:ce.value,class:"btn-primary"}," Change Password ",8,se)])])])):n("",!0),"danger"===ue.value?(v(),r("div",le,[a[50]||(a[50]=t("div",{class:"card-header bg-danger-50 dark:bg-danger-900/30"},[t("h2",{class:"text-lg font-semibold text-danger-700 dark:text-danger-400"},"Danger Zone")],-1)),t("div",{class:"card-body space-y-6"},[t("div",{class:"p-4 border border-danger-200 dark:border-danger-800 rounded-lg"},[t("div",{class:"flex items-start justify-between gap-4"},[a[48]||(a[48]=t("div",null,[t("h3",{class:"font-medium text-gray-900 dark:text-white"},"Clear Job Queue"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Remove all pending monitoring jobs from the queue. This will temporarily stop all checks. ")],-1)),t("button",{onClick:xe,class:"btn-danger whitespace-nowrap"}," Clear Jobs ")])]),a[49]||(a[49]=y('<div class="p-4 border border-danger-200 dark:border-danger-800 rounded-lg"><div class="flex items-start justify-between gap-4"><div><h3 class="font-medium text-gray-900 dark:text-white">Delete All Data</h3><p class="text-sm text-gray-500 dark:text-gray-400"> Permanently delete all websites and logs. This action cannot be undone. </p></div><button class="btn-danger whitespace-nowrap" disabled> Delete All </button></div></div>',1))])])):n("",!0)])])]))}};export{ne as default};
